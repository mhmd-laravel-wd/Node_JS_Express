/**
 * ===============================
 * استدعاء مكتبة Mongoose
 * ===============================
 * Mongoose تساعد على التعامل مع MongoDB بسهولة
 */
const mongoose = require("mongoose");
const Schema = mongoose.Schema;

/**
 * ===============================
 * تعريف Schema (هيكل البيانات)
 * ===============================
 * Schema يحدد شكل البيانات في قاعدة البيانات
 */
const dataSchema = new Schema({
  /**
   * حقل اسم المستخدم
   * - النوع: String
   * - مطلوب: لا يمكن تركه فارغ
   * - trim: إزالة المسافات الزائدة من البداية والنهاية
   */
  username: {
    type: String,
    required: [true, "اسم المستخدم مطلوب"], // رسالة التحقق عند ترك الحقل فارغ
    trim: true,
  },

  /**
   * حقل كلمة المرور
   * - النوع: String
   * - مطلوب: لا يمكن تركه فارغ
   * - trim: إزالة المسافات الزائدة من البداية والنهاية
   */
  password: {
    type: String,
    required: [true, "كلمة المرور مطلوبة"], // رسالة التحقق عند ترك الحقل فارغ
    trim: true,
  },
});

/**
 * ===============================
 * إنشاء الموديل (Model)
 * ===============================
 * الموديل هو الواجهة للتعامل مع قاعدة البيانات (CRUD)
 */
const User = mongoose.model("User", dataSchema);

/**
 * ===============================
 * تصدير الموديل
 * ===============================
 * لكي يمكن استخدامه في ملفات أخرى مثل controllers أو routes
 */
module.exports = User;
